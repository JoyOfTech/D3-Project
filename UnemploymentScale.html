<!DOCTYPE html>
<html lang="en">

<head>
<meta charset="utf-8">
<title>D3: Unemployment By Ward</title>
<script type="text/javascript" src="d3/d3.js"></script>

</head>
<body>
<script type ="text/javascript">

       var width=500;
       var height= 500; 


d3.csv("Unemployment.csv", function(data) {
   
    console.log(data)

    var UnemploymentArray = [] 
    var WardArray = []               // Create and initialize two arrays to store values
    data.forEach(function(d) {  // Loop through each object of keys/values in the dataSet from csv
     

     UnemploymentArray.push(+d.Unemployment); // Add each value to unemployement array
     WardArray.push(+d.Ward);  // Add each value to ward array 
    })

    console.log(UnemploymentArray)   // Log unemployment array in console to verify values
    console.log(WardArray)  // Log ward array in console to verify values 


       var widthScale = d3.scale.linear()
                        .domain([0, d3.max(data, function(d) { return d[0]; })])
                        .range([ 0, width]);

        var heightScale = d3.scale.linear()
                          .domain([0, d3.max(data, function(d) {return d[1]; })])
                          .range([ 0, height]);          




        var chart = d3.select("body")
        .append("svg")
        .attr("width", width)
        .attr("height",height);

        chart.selectAll("rect")
        .data(data)
        .enter()
        .append("rect")
        .attr("rx", function (d) { return widthScale(d[0]); 
         })
        .attr("ry", function (d) { return heightScale(d[1]);
         });
        

 chart.selectAll("text")
 .data(data)
 .enter()
 .append("text")
 .text(function (d) { return d[0] + "," + d[1]; 
})
.attr ("x", function (d) {return widthScale(d[0]);
})

.attr ("y", function (d) {return heightScale(d[1]);
})
 .attr("font-family", "sans-serif")
 .attr("font-size" , "11px")
 .attr("fill", "red");

</script>
</body>

</html>

       


